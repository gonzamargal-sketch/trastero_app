<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Eliminar Objeto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1>Eliminar {{ objeto.nombre }}</h1>

    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} mt-3">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="post" action="{{ url_for('objetos.eliminar', objeto_id=objeto.id) }}">
        <!-- Campo oculto para simular DELETE -->
        <input type="hidden" name="_method" value="DELETE" />

        {% if objeto.cantidad > 1 %}
            <p>Este objeto tiene {{ objeto.cantidad }} unidades. ¿Cuántas quieres eliminar?</p>
            <input type="number" name="cantidad" value="1" min="1" max="{{ objeto.cantidad }}" class="form-control mb-3">
        {% else %}
            <input type="hidden" name="cantidad" value="1">
            <p>¿Seguro que quieres eliminar este objeto?</p>
        {% endif %}

        <button type="submit" class="btn btn-danger">Eliminar</button>
        <a href="{{ url_for('objetos.inicio') }}" class="btn btn-secondary">Cancelar</a>
    </form>

</div>
</body>
</html>

